<EditForm EditContext="@_editContext" 
          OnValidSubmit="HandleUserCreate">
    <MudDialog Class="user-view-modal-container" 
               Gutters="true"
               ActionsClass="justify-space-between align-center pl-6 pr-6 pb-3" 
               ContentClass="user-view-modal-content">
        <TitleContent>
            <MudText Color="@Color.Primary" 
                     GutterBottom="true" 
                     Typo="@Typo.h4">
                @Localizer["user_view_modal_title_create"]
            </MudText>
        </TitleContent>
        <DialogContent>
            <DataAnnotationsValidator/>

            <MudTextField @bind-Value="@CreateModel.Username" 
                          For="@(() => CreateModel.Username)"
                          InputMode="@InputMode.text" 
                          InputType="@InputType.Text" 
                          Label="@Localizer["user_view_modal_field_username_name"]" 
                          Margin="@Margin.Dense" 
                          T="string" 
                          Variant="@Variant.Outlined" 
                          Class="mb-3"/>
            
            <MudTextField @bind-Value="@CreateModel.Email" 
                          For="@(() => CreateModel.Email)"
                          InputMode="@InputMode.email" 
                          InputType="@InputType.Email" 
                          Label="@Localizer["user_view_modal_field_email_name"]" 
                          Margin="@Margin.Dense" 
                          T="string" 
                          Variant="@Variant.Outlined" 
                          Class="mb-3"/>
            
            <MudSelect @bind-Value="@CreateModel.RoleName"
                       Variant="Variant.Outlined"
                       Label="@Localizer["user_view_modal_field_rolename_name"]"
                       Margin="Margin.Dense"
                       FullWidth="true"
                       Modal="true">
                @foreach (var roleName in AvailableRoles)
                {
                    <MudSelectItem Value="roleName">@roleName</MudSelectItem>
                }
            </MudSelect>
        </DialogContent>
        <DialogActions>
            <MudButton ButtonType="@ButtonType.Button"
                       Color="@Color.Warning"
                       Variant="@Variant.Filled"
                       OnClick="@(MudDialog.Cancel)">
                @Localizer["user_view_modal_action_button_cancel"]
            </MudButton>
            <MudButton ButtonType="@ButtonType.Submit"
                       Color="@Color.Tertiary"
                       Variant="@Variant.Filled">
                @Localizer["user_view_modal_action_button_create"]
            </MudButton>
        </DialogActions>
    </MudDialog>
</EditForm>